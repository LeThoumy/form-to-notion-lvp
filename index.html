<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Form to notion test</title>
	<link rel="stylesheet" href="style.css">
</head>

<body>
	<main>
		<form action="https://getform.io/f/9ab75049-709c-4183-9f39-2b6dc7f30e39" method="POST" enctype="multipart/form-data"
			id="form_to_notion">

			<div class="fieldset">
				<label for="name">Name</label>
				<input type="text" name="name" id="name" placeholder="Giani Doe" required="required">
			</div>

			<div class="fieldset">
				<label for="bio">Bio</label>
				<textarea name="bio" id="bio" cols="30" rows="4" required="required"
					placeholder="Feu Giani Doe was a..."></textarea>
			</div>

			<div class="fieldset inline">
				<label for="upload">Upload</label>
				<input type="file" name="photos[]" multiple required="required">
			</div>

			<input type="hidden" name="_gotcha" style="display:none !important">
			<button type="submit">Send</button>

		</form>
	</main>
	<aside>
		<a
			href="https://www.notion.so/amotomo/2ccb90e85e494a5f8af6fc9982cc3373?v=e90c090acb5c4f2bbb7f27bf4efa5820&pvs=4">Notion
			Link</a>
	</aside>
	<script>
		const form = document.getElementById("form_to_notion");
		form.addEventListener("submit", formSubmit);

		function formSubmit(e) {
			e.preventDefault();
			const formData = new FormData(e.target);

			fetch("https://getform.io/f/9ab75049-709c-4183-9f39-2b6dc7f30e39", {
				method: "POST",
				body: formData,
				headers: {
					"Accept": "application/json",
				},
			})
				.then(response => console.log(response))
				.catch(error => console.log(error))
		}
	</script>
</body>

</html>